@page "/cv/edit"
@model ItMe.Pages.EditCvModel
@{
    ViewData["Title"] = "Edit Cv";
}

<h2>Edit Cv</h2>

<form method="POST" class="full-width" style="width: 100%;">
    <div class="side-by-side">
        <labeled-control>
            <lc-label>Blurb</lc-label>
            <lc-control>
                <textarea oninput="updatePreview('blurb-preview', this.value)" required asp-for="@Model.Blurb" style="height: 300px;" id="blurb" class="editor"></textarea>
            </lc-control>
        </labeled-control>
        <labeled-control>
            <lc-label>Preview</lc-label>
            <lc-control>
                <div style="height: 300px;" id="blurb-preview" class="preview">
                </div>
            </lc-control>
        </labeled-control>
    </div>

    <div class="button-bar">
        <button type="submit">Save</button>
    </div>
</form>

<script>
    function updatePreview(preview, value) {
        document.getElementById(preview).innerHTML = toMarkDown(value);
    }

    updatePreview('blurb-preview', document.getElementById('blurb').value);
    synchronizeScroll("blurb", "blurb-preview");
</script>